<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ivan Site</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="file-manager">
        <header>
            <h1>File Manager</h1>
        </header>
        <input type="text" id="searchBar" placeholder="üîç Search..." oninput="searchItems()" />
        <div class="actions">
            <button onclick="createFolder()">üìÅ Create Folder</button>
            <button onclick="createFile()">üìÑ Create File</button>
            <button onclick="sortItems('name')">üî† Sort by Name</button>
            <button onclick="sortItems('type')">üóÇÔ∏è Sort by Type</button>
            <button onclick="toggleDarkMode()">üåô Toggle Dark Mode</button>
        </div>
        <div class="files" id="fileList"></div>
        
        <!-- New table to display files inside the currently opened folder -->
        <div id="folderContents" style="display: none;">
            <h3>Files in Folder</h3>
            <table>
                <thead>
                    <tr>
                        <th>File Name</th>
                        <th>File Type</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody id="fileTableBody"></tbody>
            </table>
        </div>
        
        <div id="filePreview" style="display:none;" class="file-preview-container">
            <h3>Preview</h3>
            <button id="closePreview" class="button close">‚úñ Close</button>
            
            <input id="fileNameInput" type="text" placeholder="Edit file name..." class="input" />
            
            <textarea id="previewContent" rows="5" placeholder="Edit content here..." class="textarea">Select a file to see its content here.</textarea>
            
            <div class="button-group">
                <button id="saveContent" class="button save">üíæ Save</button>
                <button id="deleteFile" class="button delete">üóëÔ∏è Delete</button>
            </div>
        
            <!-- Table for displaying folder contents -->
            <div id="folderContents" style="display:none;">
                <h4>Folder Contents</h4>
                <table id="fileTable">
                    <thead>
                        <tr>
                            <th>Name</th>
                            <th>Type</th>
                            <td>
                                <button onclick="editRow(this)">Edit</button>
                                <button onclick="deleteRow(this)">Delete</button>
                            </td>
                            
                        </tr>
                    </thead>
                    <tbody id="fileTableBody">
                        <!-- Folder contents will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
        
        </div>

        <!-- Footer Section -->
        <footer>
            <p>&copy; 2024 File Manager. All rights reserved.</p>
            <p>Developed by Ivan Quiambao</p>
        </footer>
    </div>

    <script src="script.js"></script>
</body>
</html>


<script>
    // Function to edit a row
    function editRow(btn) {
        let row = btn.closest('tr'); // Get the closest row to the clicked button
        let nameCell = row.cells[0]; // Access the first cell (File Name)
        let typeCell = row.cells[1]; // Access the second cell (File Type)
        
        // Prompt the user to input new values
        let newName = prompt("Enter new file name:", nameCell.innerText);
        let newType = prompt("Enter new file type:", typeCell.innerText);
        
        if (newName !== null && newName !== "") nameCell.innerText = newName;
        if (newType !== null && newType !== "") typeCell.innerText = newType;
    }

    // Function to delete a row
    function deleteRow(btn) {
        let row = btn.closest('tr'); // Get the closest row to the clicked button
        row.remove(); // Remove the row
    }
</script>